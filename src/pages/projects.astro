---
import "../styles/global.css";
import "../styles/index.css";
import "../styles/projects.css";
import Layout from "../layouts/layout.astro";
import PastProjectsList from "../components/projectspage/PastProjectsList";
import ImageCarousel from "../components/projectspage/ProjectsImageCarousel";
import IndexHeading from "../components/index page/IndexHeading";
import BlobBackground from "../components/BlobBackground/BlobBackground";
import { serveProjects } from "../scripts/serveProjects";
const { projects, carouselList } = await serveProjects();
console.log(carouselList)

---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Projects</title>
  </head>
  <Layout>
    <main class="projects-page">
      <ImageCarousel client:only="react" projects={carouselList}/>
      <BlobBackground />
      <div class="past-projects-banner">
        <IndexHeading>Our Past Projects</IndexHeading>
      </div>
      <section class="index-events">
        <div class="index-image-carousel-container">
          <PastProjectsList client:only="react" projects={projects} />
        </div>
      </section>
    </main> 
  </Layout>
</html>
