---
import { getMembers } from "../scripts/getMembers";
let members = await getMembers();

import { sortMembersByTeam } from "../scripts/sortTeams.ts";
let { leadershipTeam, communicationTeam, projects } =
  sortMembersByTeam(members);

console.log(communicationTeam);
//import { getAnton } from '../scripts/getAnton';
//let anton = await getAnton();
//import { getCovers } from '../scripts/getCovers';
//let covers = await getCovers();
//import { getTeamsDescriptions } from "../scripts/getTeamDescription"
//let teams = await getTeamsDescriptions();

// Members Page
import "../styles/global.css";
import "../styles/members.css";

import Header from "../components/header.astro";
import Footer from "../components/footer.astro";
import Layout from "../layouts/layout.astro";

import TeamDisplay from "../components/TeamDisplayLeft.astro";
import TeamDisplayLeft from "../components/TeamDisplayLeft.astro";
import TeamDisplayRight from "../components/TeamDisplayRight.astro";
import ProjectTeam from "../components/ProjectTeam.tsx";
import MemberDisplay from "../components/MembersDisplay.astro";
import MembersDisplay from "../components/MembersDisplay.astro";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
  </head>

  <Layout>
    <div class="title"><h1><b>Introducing Our Teams</b></h1></div>
    <div class="nav">
      <button class="lead-button"
        ><a href="#leadership-section">Leadership</a></button
      >
      <button class="com-button"
        ><a href="#com-section">Communications</a></button
      >
      <button class="proj-button"><a href="#proj-section">Projects</a></button>
    </div>
    <div class="shapedividers_com-9592"></div>

    <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <!-- function for the scroll up button -->
    <script>
      document.addEventListener("DOMContentLoaded", (event) => {
        const myButton = document.getElementById("myBtn") as HTMLButtonElement;

        window.onscroll = function () {
          scrollFunction();
        };

        function scrollFunction() {
          if (
            document.body.scrollTop > 20 ||
            document.documentElement.scrollTop > 20
          ) {
            myButton.style.display = "block";
          } else {
            myButton.style.display = "none";
          }
        }

        myButton.onclick = function () {
          topFunction();
        };

        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
      });
    </script>

    <!-- importing the left + right components -->
    <TeamDisplayLeft team={leadershipTeam} />
    <TeamDisplayRight team={communicationTeam} />
    <ProjectTeam client:only />

    <!-- Members Display -->
    <!-- <div class="members">
      {covers.map(cover => (
        <img src={cover.cover} alt={cover.name} />
      ))}
      {members.map(member => (
        <MemberDisplay 
          name={member.name} 
          team={member.team}
          desc={member.desc} 
        />
      ))}
    </div> -->
    <div class="members">
      {/* Display specific project team by index */}
      {
        projects[3].members.map((member) => (
          <MembersDisplay
            cover={member.cover}
            name={member.name}
            team={member.team}
            desc={member.desc}
          />
        ))
      }
    </div>
  </Layout>


</html>
